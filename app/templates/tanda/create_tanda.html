{% extends "base.html" %}
{% block title %}Create Tanda{% endblock %}
{% block content %}
<h1>Create a New Tanda</h1>
<form method="post">
    {{ form.hidden_tag() }}
    <div class="form-group">
        {{ form.name.label(class="form-label") }}
        {{ form.name(class="form-control") }}
    </div>
    <div class="form-group">
        {{ form.tanda_type_id.label(class="form-label") }}
        {{ form.tanda_type_id(class="form-control") }}
    </div>
    <div class="form-group">
        {{ form.comments.label(class="form-label") }}
        {{ form.comments(class="form-control") }}
    </div>
    <div class="form-group">
        {{ form.spotify_link.label(class="form-label") }}
        {{ form.spotify_link(class="form-control") }}
    </div>
    <div class="form-group">
        {{ form.youtube_link.label(class="form-label") }}
        {{ form.youtube_link(class="form-control") }}
    </div>

    <!-- Song Search and Selection -->
    <div class="form-group">
        <label for="song-search">Add Songs to Tanda:</label>
        <input type="text" id="song-search" class="form-control" placeholder="Search for songs...">
        <div id="song-search-results" class="list-group"></div>
    </div>
    <div class="form-group">
        <label>Selected Songs:</label>
        <ul id="selected-songs" class="list-group"></ul>
    </div>
    {{ form.song_ids() }}

    <button type="submit" class="btn btn-primary">{{ form.submit.label.text }}</button>
    <a href="{{ url_for('tanda_bp.list_tandas') }}" class="btn btn-secondary">Cancel</a>
</form>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/tanda.js') }}"></script>
{% endblock %}
